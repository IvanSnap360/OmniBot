<?xml version="1.0"?>
<launch>

    <arg name="use_manipulator" default="true" />
    
    <include file="$(find omnibot_description)/launch/load_description.launch">
        <arg name="gui" value="false" />
        <arg name="rviz" value="false" />
        <arg name="manipulator" value="$(arg use_manipulator)" />
    </include>
    <include file="$(find omnibot_control)/launch/omnibot_control.launch"/>

    <include file="$(find omnibot_platform_control)/launch/omnibot_platform_contol.launch">
        <arg name="namespace" value="omnibot_robot"/>
    </include>

    <include file="$(find omnibot_platform_drv)/launch/omnibot_platform_drv.launch"/>
    
    <include file="$(find sensor_odom_manager)/launch/sensor_odom_manager.launch"/>

    <group if="$(arg use_manipulator)">
        <!-- <include file="$(find omnibot_manipulator_control)/launch/omnibot_manipulator_control.launch">
            <arg name="namespace" value="omnibot_robot"/>
        </include> -->

        <include file="$(find omnibot_manipulator_moveit)/launch/demo.launch"/>
    </group>

    <include file="$(find omnibot_gazebo)/launch/omnibot_gazebo.launch"/>



    <include file="$(find omnibot_platform_navigation)/launch/omnibot_platform_navigation.launch" >
        <arg name="sim" value="true"/>
        <arg name="use_rviz" value="true"/>
    </include>
    
</launch>